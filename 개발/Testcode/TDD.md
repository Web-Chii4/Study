# TDD(Test Driven Development)

> TDD는 테스트 주도 개발로, 테스트 코드를 먼저 작성한 후 테스트를 통과하는 코드를 구현하는 방식으로 개발하는 방식이다.
>

## TDD의 사이클

![Image](https://github.com/user-attachments/assets/c0d28c7b-81be-44ff-908a-fa351d63c236)

TDD의 사이클은 다음과 같다.

1. 테스트에 실패하는 코드 작성하기
2. 테스트에 통과하는 코드 작성하기(최소한의 코딩)
3. 리팩토링하기(구현 설계 개선 및 테스트 통과 유지)

## TDD가 필요한 이유

### 일반적 개발

- 디자인 → 코드 개발 → 테스트 순의 개발 절차를 수행한다.

하지만, 이런 방식은 SW개발을 느리게 하는 위험이 존재한다.

SW요구사항은 명확하지 않고 변할 수 있기 때문에 완벽한 SW설계는 불가하다. 또한, SW개발 시 혹은 유지 보수 시 자체 테스트 비용이 증가할 수 있다. 따라서, TDD를 통해 이런 비용들을 줄일 수 있다.

### TDD

- 디자인 → 테스트 코드 작성 → 코드 개발 → 리팩토링의 과정을 수행한다.

테스트 코드를 작성하는 의미는, 이후에 코드 개발 단계에서 통과하기 위한 테스트 코드를 작성해야한다. 즉, 개발해야 할 코드의 껍데기(모듈)의 명세에 따른 검증 코드만 작성해야 한다는 것이다.

이렇게 작성된 검증 코드를 통해서 개발자는 명세에 따라 테스트 코드를 작성해 보다 명확히 요구사항을 파악할 수 있다. 또한, 코드를 개발하고 자체 테스트(웹 브라우저를 키고 해당 기능을 실행하는 등의 테스트)를 위한 비용을 줄일 수 있다. 마지막으로 개발된 코드를 리팩토링을 통해 정리한다.

**장점)**

1. **디버깅 시간을 단축할 수 있다.**
    - 테스트에 통과하지 못한 단위 테스트 코드를 통해 쉽게 프로그램 상 문제의 원인을 빠르게 찾을 수 있다.
2. **코드가 내 손을 벗어나기 전 가장 빠르게 피드백 받을 수 있다.**
    - 기능을 개발하는 과정에서 발생한 문제를 그 때 바로 확인하고 고칠 수 있다.
    - 기존의 개발 방식을 따르면, 테스트 코드 작성이 어렵기 때문에 쉽게 코드의 문제의 원인을 파악하기 힘들 수 있다.
3. **작성한 코드가 가지는 불안정성을 개선해 생산성을 높일 수 있다.**
    - 테스트 코드를 통해 검증하기 때문에 불안정성과 불확실성을 지속적으로 해소해줄 수 있다.
4. **재설계 시간을 단축할 수 있다.**
    - 테스트 코드를 작성하며 개발자는 요구사항을 분명히 파악할 수 있기 때문에 다양한 예외사항에 대해 코드 구현 전 미리 생각해볼 수 있으며, 개발 전 SW구조를 재설계 할 수 있다.
5. **추가 구현이 용이하다.**
    - 기능 추가 시 기존 코드에 어떤 영향을 미치는지 확인할 수 있기 때문에 자체 테스트를 할 필요가 없어져 테스트 기간을 줄일 수 있다.

**단점)**

1. **생산성의 저하**
    - 테스트 코드 또한 작성해야 하므로 10 ~ 30%의 생산성 저하가 발생한다.
    - SI프로젝트의 경우 납품 기한 준수가 매우 중요하기 때문에 TDD는 잘 사용하지 않는다.
2. **개발 방식 전환의 어려움**
    - 개발을 많이 해보지 않은 사람들은 적용하기 어려울 수 있다.(러닝 커브)
3. **구조에 얽매일 수 있다.**
    - TDD를 실천하며 어려운 예외가 발생할 경우 예외를 검증하기 위한 딜레마가 올 수 있다.
    - 테스트 통과를 위해 구조를 변경할 것인가? 와 같은 딜레마이다. 테스트 보단 개발이 목적인데 테스트 통과가 목적이 되는 경우가 발생할 수 있다.

### 참고

[실전에서 TDD하기 | 카카오페이 기술 블로그](https://tech.kakaopay.com/post/implementing-tdd-in-practical-applications/)

[🧪 TDD 방법론 (테스트 주도 개발) - 알기 쉽게 정리](https://inpa.tistory.com/entry/QA-%F0%9F%93%9A-TDD-%EB%B0%A9%EB%B2%95%EB%A1%A0-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C)